<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Redr Disaster Simulator</title>

	<!-- Bootstrap core CSS -->
	<link href="styles/disaster-sim-style.css" type="text/css" rel="stylesheet">

</head>

<body>

<script src="/socket.io/socket.io.js"></script>
<script src="js/jquery.js"></script>
<script src="js/ngo-simulation.js"></script>
<script src="js/PDFObject/pdfobject.js"></script>

<script src="js/jquery.js"></script>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light bg-light static-top "id="header">
	<!--Colour Changer-->
	<script>
		$("#header").load("header.html", function (response,
												   status, http){
			document.getElementById("colourChooser").setAttribute("value", document.cookie);
		});
		document.documentElement.style.setProperty("--main-color", document.cookie);
	</script>
</nav>

<!-- Page Content -->
<div class="container">
	<div class="row">
		<div class="col-lg-12 text-center" id="mainContent">
			<div id="eventOverlay" onclick="displayPDFOff()"><!-- container for overlay -->




				<div id="overlayPdf"></div>
				<script src="js/PDFObject/pdfobject.js"></script>
				<script>PDFObject.embed("files/test.pdf", "#overlayPdf");</script>

			</div>
			<!--Scenario Title Gets Updated In Socket-->
					<div class="ngoTitle"></div>
			<!--Timer-->
			<div id="timeManagement">

			</div>
			<br>

			<!--Messaging Title-->
			<div id="messagingTitle" class="messagingTitle">
				<h1 class="titles"><span>Communication</span></h1>
			</div>

			<!--Email Title-->
			<div id="inboxTitle" class="inboxTitle">
				<h1 class="titles"><span>Inbox</span></h1>
			</div>


			<!--Messaging Element-->
			<div id="messagingElementNGO" class="messagingElementNGO">


				<!--add buttons-->
				<div id="messagingButtons" class='messagingButtons'>
					<!--NGO0 Kinda dumb but reserved for hq-->
					<button class="btn btn-secondary" onclick="switchNGOChat('ngo0')" id="ngo0">ngongongo</button>
					<button class="btn btn-secondary" onclick="switchNGOChat('ngo1')" id="ngo1">ngongongo</button>
					<button class="btn btn-secondary" onclick="switchNGOChat('ngo2')" id="ngo2">ngongongo</button>
					<button class="btn btn-secondary" onclick="switchNGOChat('ngo3')" id="ngo3">ngongongo</button>
					<button class="btn btn-secondary" onclick="switchNGOChat('ngo4')" id="ngo4">ngongongo</button>
					<button class="btn btn-secondary" onclick="switchNGOChat('ngo5')" id="ngo5">ngongongo</button>
					<button class="btn btn-secondary" onclick="switchNGOChat('ngo6')" id="ngo6">ngongongo</button>
					<button class="btn btn-secondary" onclick="switchNGOChat('ngo7')" id="ngo7">ngongongo</button>


				</div>


				<!--add div for each NGO conversation-->
				<div class='messagingContent' id="ngo0Content">
					<ul></ul>
				</div>
				<div class='messagingContent' id="ngo1Content">
					<ul></ul>
				</div>
				<div class='messagingContent' id='ngo2Content'>
					<ul></ul>
				</div>
				<div class='messagingContent' id='ngo3Content'>
					<ul></ul>
				</div>
				<div class='messagingContent' id='ngo4Content'>
					<ul></ul>
				</div>
				<div class='messagingContent' id='ngo5Content'>
					<ul></ul>
				</div>
				<div class='messagingContent' id='ngo6Content'>
					<ul></ul>
				</div>
				<div class='messagingContent' id='ngo7Content'>
					<ul></ul>
				</div>


				<div id="messageingForm">
					<form action="" id="messageNGO">
						<textarea form="messageNGO" id="input"></textarea>
						<input type="submit" value="Send" class="button"/>
					</form>
				</div>








			</div>

			<div id="inboxElementNGO" class="inboxElementNGO">
				<div id="inboxEmails" class="inboxEmails">

                        <button class="emailObject"><p class="emailTitle">Peacedoves Budget Request</p>
                            <p class="emailTime">3:00PM</p></button>

				</div>


				<div id="emailViewer" class="emailViewer">
					<div id="eventDetails">
						<p>Peacedoves Budget Request, 3:00pm</p>
						<button id="displayPDFButton" onclick="display('mp4')">View Event</button>



					</div>

					<div class="eventResponseContent">
						<p>
							Hi HQ<br>


							I dont like  the way u have only given me $100 i need $101<br>

							Regards, Peace Doves
						</p>
					</div>

					<div class="eventResponseContent">
						<p>
							Hi Peace Doves<br>


							Boi hell na<br>

							Regards, HQ
						</p>
					</div>



				</div>

			</div>




			</div>
		</div>
	</div>
</div>

<script>
	function display(type){
		if(type=="mp4"){
			displayVideo();
			document.getElementById("eventOverlay").style.display = "none";
			document.getElementById("audioOverlay").style.display = "none";
			document.getElementById("imageOverlay").style.display = "none";
		}
		else if (type=="pdf"){
			displayPDF();
			PDFObject.embed("/files/test.pdf", "#eventMediaDisplay");
			document.getElementById("eventOverlay").style.display = "block";
			document.getElementById("videoOverlay").style.display = "none";
			document.getElementById("audioOverlay").style.display = "none";
			document.getElementById("imageOverlay").style.display = "none";
		}
		else if(type=="mp3"){
			displayAudio();
			document.getElementById("eventOverlay").style.display = "none";
			document.getElementById("videoOverlay").style.display = "none";
			document.getElementById("imageOverlay").style.display = "none";
		}
		else if(type=="jpg"){
			displayImage();
			document.getElementById("eventOverlay").style.display = "none";
			document.getElementById("videoOverlay").style.display = "none";
			document.getElementById("audioOverlay").style.display = "none";
		}
	}
</script>

<!-- Video displaying code -->
<script>
	function displayVideo(){
		console.log("display video is called");
		document.getElementById("videoOverlay").style.display = "block";
	}
</script>

<div id="videoOverlay" >
	<br>
	<div style="text-align:center;">
		<button style="text-align:center;" onclick="videoOverlayOff()">Exit Video</button>
	</div>
	<div style="text-align:center;">
		<video id="videoID" style="text-align:center;" width="500" height="500">
			<source src="/files/testmp4.mp4" type="video/mp4">
		</video>
	</div>
	<script>
		var video = document.getElementById("videoID");
		function videoPausePlay(){
			if(video.paused){
				video.play();
			} else {
				video.pause();
			}
		}
	</script>
	<div style="text-align:center;">
		<button style="text-align:center;" onclick="videoPausePlay()">Play/Pause</button>
	</div>
</div>

<script>
	function videoOverlayOff(){
		var video = document.getElementById("videoID");
		video.pause();
		document.getElementById("videoOverlay").style.display = "none";
	}
</script>

<!-- Audio displaying code -->
<script>
	function displayAudio(){
		console.log("display audio is called");
		document.getElementById("audioOverlay").style.display = "block";
	}
</script>

<div id="audioOverlay" >
	<br>
	<div style="text-align:center;">
		<button style="text-align:center;" onclick="audioPausePlay()">Play/Pause</button>
		<br>
		<br>
		<button style="text-align:center;" onclick="audioOverlayOff()">Exit Audio</button>
	</div>
	<br>
	<div style="text-align:center;">
		<audio id="audioID">
			<source src="/files/testmp3.mp3" type="audio/mpeg">
		</audio>
	</div>
	<script>
		var audio = document.getElementById("audioID");
		function audioPausePlay(){
			if(audio.paused){
				audio.play();
			} else {
				audio.pause();
			}
		}
	</script>
</div>

<script>
	function audioOverlayOff(){
		var audio = document.getElementById("audioID");
		audio.pause();
		document.getElementById("audioOverlay").style.display = "none";
	}
</script>

<!-- Image overlay code -->
<script>
	function displayImage(){
		console.log("display image is called");
		document.getElementById("imageOverlay").style.display = "block";
	}
</script>
<br>
<div id="imageOverlay" onclick="imageOverlayOff()">
	<br>
	<div style="text-align:center;">
		<image src="/files/testjpg.jpg"  width=500 height=500>
	</div>
</div>

<script>
	function imageOverlayOff(){
		document.getElementById("imageOverlay").style.display = "none";
	}
</script>

<!-- Footer -->
<footer class="bg-light fixed-bottom" id="footer">
	<script>$("#footer").load("footer.html");</script>
</footer>

</body>

</html>
