<!DOCTYPE HTML>
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<html>
	<head>

		<title>HQ-Review</title>

		<ul>
			<h3 id="topTitle">Review:</h3>
            <input type="button" onclick="javascript: save();" value="Save" />
            <input type="button" onclick="javascript: load();" value="Load" />

		</ul>
		
            <select id="groupToggle" onchange="replaceTimeline(this.value)"> <!-- loads selected timeline when selected-->
                <option value="0">Group View</option>
                <option value="1">Total View</option>
            </select>
        
        <!-- Scripts for file saving and accessing timeline data -->
        <script src="FileSaver.js"></script>
        <script src="js/timeline.js"></script>
		
	</head>
	
	<body onload= "loadTimeline('0')"> <!-- loads initial timeline -->
	
	
        <!-- Overlay components start -->
        <div id="eventOverlay" onclick="off()"><!-- container for overlay -->

        <div id = overlayText>
            <h3 id="eventViewRecipiant" style="margin: 0; padding:0;">Recipiant: name</h3>  
            <h3 id="eventViewSubject" style="margin: 0; padding:0;">Subject: Day 5 Report</h3>  
            <h3 id="eventViewSchedule" style="margin: 0; padding:0;">Scheduled Time: Day 2 14:33</h3>
        </div>
        
        
        <div id = "overlayPdf"></div>
        <script src="js/PDFObject/pdfobject.js"></script>
        <script>PDFObject.embed("pdftest.pdf", "#overlayPdf");</script>
        
        </div>
        <!-- Overlay components end -->
	
	
	
	
		<script src="vis-4.21.0/dist/vis.js"></script>
		<link href="vis-4.21.0/dist/vis.css" rel="stylesheet" type="text/css" />
		
		<div id="visualization"></div>
		
		<script type="text/javascript" src="js/timelineComponents.js"></script>

		
		<script type ="text/javascript">
            var container = document.getElementById('visualization');
            
            function replaceTimeline(mode){//deletes current timeline then calls loadTimeline
                    var elem = document.getElementById("visualization");
                    while (elem.firstChild) {
                        elem.removeChild(elem.firstChild);
                    }

                loadTimeline(mode);
            }
            
            function loadTimeline(mode){//function loads timline javascript library from directory
                    if(mode == 0){
                        var timeline = new vis.Timeline(container, items, groups, options);
                        timeline.on('select', function on() {
                            document.getElementById("eventOverlay").style.display = "block";
                        });
                    } else{
                        var timeline = new vis.Timeline(container, items, options);
                        timeline.on('select', function on() {
                            document.getElementById("eventOverlay").style.display = "block";
                        });
                    }
            }
            
            function off() {
                document.getElementById("eventOverlay").style.display = "none";
            }
            
		</script>
		
<!-- Code has been migrated to timeline.js -->
<!--
		<script>
            function save() {
                var blob = new Blob(["xml"], {type: "text/xml;charset=utf-8"});
                saveAs(blob, "xml.xml");
            }
        </script>
-->
        
        
	</body>
</html>
